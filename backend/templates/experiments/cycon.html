{% extends "layout.html" %}
{% block content %}

<script src="https://code.jquery.com/jquery-3.1.0.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.1/html2pdf.bundle.min.js"></script>


<div id="home" class="panel">
    <div class="main" style="width: 70%">

        <script src="../../static/js/jquery-3.5.1.min.js"></script>




        <!-- Method to change the visable sections -->
        <script>
            $(document).ready(function () {
                $("div.methodology_desc").hide();
                $("input[name$='methodology' ]").click(function () {
                    var methodology = $(this).val();
                    var num = 0
                    var count = 1

                    if (methodology == "MLA:") {
                        $("div.methodology_desc").hide();
                        $("#MLA_Options").show();
                    }

                    if (methodology == "DLANN:") {
                        $("div.methodology_desc").hide();
                        $("#DLANN_Options").show();
                    }
                });
            });
        </script>

        <!--
        <script type="text/javascript">
            function changeMethod(methods, Parameters) {
                document.getElementById("Results").innerHTML = "Hello?"
            }
        </script>
            -->
        <form id="cyconForm">
            <h1>Welcome, fill out the following information to start an experiment.</h1>

            <p id="demo"></p>

            <hr />
            <h2>Phase 1. Experiment information.</h2>
            <hr />

            <h3 id="infoHeader">Name of the project:</h3>
            <table>
                <tr>
                    <td><input id="projectName" type="text" name="projectName" placeholder="Name of the project" /></td>
                </tr>

            </table>

            <h3 id="scopeHeader">Goal and scope definition:</h3>
            <li style="font-size:12pt">
                <b>
                    Define your goal, scope, system boundary, functional unit, and case study
                    assumptions down here:
                </b>
            </li>

            <textarea id="phase1Text" name="phase1Text" rows="2" cols="50">

            </textarea>
            <p>&nbsp;</p>

            <h3>-----------------------------------</h3>

            <!-- Dataset section -->
            <hr />
            <h2>Phase 2. Load Dataset.</h2><br>
            <hr />
            <input type="file" id="csvFile" name="csvFile" accept=".csv">

            <p>&nbsp;</p>

            <h3>-----------------------------------</h3>


            <!-- Preprocess section-->
            <h2>Phase 2a. Preoptimization</h2><br>

            <input type="radio" id=PreOpt_None name="preoptimization" value=PreOpt_None> <label for=PreOpt_None>None</label><br>
            <input type="radio" id=PreOpt_PCA name="preoptimization" value=PreOpt_PCA> <label for=PreOpt_PCA>PCA: Principal Component Analysis</label><br>

            <p>None: No preoptimization will be performed</p>
            <p>PCA: (Info will be added later) </p>

            <p>&nbsp;</p>

            <h3>-----------------------------------</h3>


            <!-- Methodology section 1 -->
            {% if g.Methodologies %}
            <hr />
            <h2>Phase 3. Methodology.</h2><br>
            <hr />

            {% for choices, infos in g.Methodologies%}
            <input type="radio" id={{ choices }} name="methodology" value={{ choices }}> <label for={{ choices }}>{{ choices }}</label><br>
            {% for sentence in infos%}
            {% if sentence != null and sentence != ""%}
            <p>{{ sentence }}</p><br>
            {% endif %}
            {% endfor %}
            {% endfor %}
            {% endif %}

            <!-- Section for MLA -->
            <div id="MLA_Options" class="methodology_desc">

                <!-- Algorithms section-->
                <h2>Phase 3a. Method.</h2><br>

                <!-- Dynamically pull algorithms names and create radio buttons for each choice-->
                {% if g.Algorithms %}
                Choose a Machine Learning Algorithm:
                <select id="MLalgorithm" name="MLalgorithm" onchange="changeAlgorithm(this.id, 'Parameters')">
                    {% for choices, infos in g.Algorithms%}
                    <option value={{ choices }}>{{ choices }}</option>
                    {% endfor %}
                </select>
                {% endif %}

                <p>&nbsp;</p>

                <h3>-----------------------------------</h3>

                <!-- Hyperparameters section-->

                <h2>Phase 3a_1. Algorithm Parameters.</h2><br>
                <!-- Dynamically pull hyperparameter names and create radio buttons for each choice-->
                <p>Check the parameters to change from default and provide selection.</p>
                <div id="Parameters"></div>

                <p>&nbsp;</p>

                <h3>-----------------------------------</h3>

                <!-- Validation section-->
                <h2>Phase 3b. Validation.</h2><br>

                <input type="radio" id=K-Fold name="validation" value=K-Fold> <label for=K-Fold>K-Fold</label>
                <input type="text" id="K-Fold_Input" name="K-Fold_Input"><br>

                <input type="radio" id=Split name="validation" value=Split> <label for=Split>Split</label>
                <input type="text" id="Split_Input" name="Split_Input"><br><br>

                <p>k-Fold: Number for the number of folds</p>
                <p>Split: The percentage for the training set. </p>
                <br><br>

                <p><b>Additional Options:</b></p><br>
                <label for=Random_State>Random State </label><input type="text" id="Random_State_Input" name="Random_State_Input"><br>
                <label for=Shuffle>Shuffle </label>
                <input type="radio" id="Shuffle_True" name="Shuffle" value=True> <label for="Shuffle_True">True</label>
                <input type="radio" id="Shuffle_False" name="Shuffle" value=False checked> <label for="Shuffle_False">False</label><br>

                <p>&nbsp;</p>

                <h3>-----------------------------------</h3>
            </div>
            <!-- Section for DLANN -->
            <div id="DLANN_Options" class="methodology_desc">
                <!-- Methods section-->
                <h2>Phase 3a. Network.</h2><br>

                <!-- Dynamically pull methods names and create radio buttons for each choice-->
                <input type="radio" id=Method_BNN name="networks" value=network_BNN onclick=> <label for=Network_BNN>Basic Neural Network</label><br>
                <input type="radio" id=Method_CNN name="networks" value=network_CNN onclick=> <label for=Network_CNN>Convolutional Neural Network</label><br>

                <p>Basic Neural Network: (Info will be added later) </p>
                <p>Convolutional Neural Network: (Info will be added later) </p>

                <p>&nbsp;</p>

                <h3>-----------------------------------</h3>
            </div>

            <button type="submit"
                    name="submit">
                Perform Experiment
            </button>

        </form>

        <hr />
        <h2 id="resultsHeader">Phase 4. Results and Interpretation:</h2>
        <hr />

        <!-- Metrics section-->
        <h2>Phase 4a. Displayed Metrics.</h2><br>

        <form id="resultForm">

            <input type="checkbox" id=Met_ACC name="Met_ACC" value=Met_ACC checked> <label for=Met_ACC>ACC</label><br>
            <input type="checkbox" id=Met_Precision name="Met_Precision" value=Met_Precision checked> <label for=Met_Precision>Precision</label><br>
            <input type="checkbox" id=Met_Precision_Micro name="Met_Precision_Micro" value=Met_Precision_Micro checked> <label for=Met_Precision_Micro>Precision (Micro)</label><br>
            <input type="checkbox" id=Met_Precision_Macro name="Met_Precision_Macro" value=Met_Precision_Macro checked> <label for=Met_Precision_Macro>Precision (Macro)</label><br>
            <input type="checkbox" id=Met_F1 name="Met_F1" value=Met_F1 checked> <label for=Met_F1>F1</label><br>
            <input type="checkbox" id=Met_F1_Micro name="Met_F1_Micro" value=Met_F1_Micro checked> <label for=Met_F1_Micro>F1 (Micro)</label><br>
            <input type="checkbox" id=Met_F1_Macro name="Met_F1_Macro" value=Met_F1_Macro checked> <label for=Met_F1_Macro>F1 (Macro)</label><br>
            <input type="checkbox" id=Met_CM name="Met_CM" value=Met_CM checked> <label for=Met_CM>Confusion Matrix</label><br>


            <button type="submit"
                    name="submit">
                Update displayed metrics
            </button>
            <p>&nbsp;</p>

            <h3>-----------------------------------</h3>


            <!-- <input type="radio" id="method4" name="method" value="method4">
            <label for="method4"><i>Method developed by user (comming soon)</i></label><br>
            <h3>-----------------------------------</h3> -->
            <!-- <p>&nbsp;</p> -->
            <!-- <li style="font-size:12pt">Results</li> -->

            <p id="Status">Current Status of experiment.</p>
            <p id="StatusInfo"></p>
            <p>&nbsp;</p>
            <p id="Results_Title">RESULTS.</p>
            <p id="Results" style="background-color: white;"></p>

            <!-- <input id="displayResults" type="button" value="Show Results" class="displayResults"/> -->
            <p>&nbsp;</p>

            <!--
            <li style="font-size:12pt"> Analyzing the results</li>

            <canvas id="myChart" style="height: 370px; width: 100%;"></canvas>
            <p>&nbsp;</p>
                -->
            <li style="font-size:12pt">
                Generating a PDF report <button type="button"
                                                id="generateReport" onclick="generatePDF()">
                    Generate
                </button>
            </li>
            <p>&nbsp;</p>

            </ul>
            <p>&nbsp;</p>


        </form>

    </div>
</div>




<!-- This is the old javascript method for running LCA. Will need to change to json file, run on python and run on seprate vm later.-->
<script src="../../static/js/Cycon_events.js"></script>

<!-- This is the javascript method for running MLA-->>


<!-- The library for the charts -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
{% endblock %}
